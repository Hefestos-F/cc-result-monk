
    :root {
      --bg: #0b0c10;
      --panel: #121318;
      --elev: #1b1e27;
      --text: #e6e6e6;
      --muted: #a7a7a7;
      --primary: #4da3ff;
      --success: #2ecc71;
      --warn: #f1c40f;
      --danger: #ff5c5c;
      --accent: #8a7dff;
      --border: #2a2f3a;
      --chip: #232632;
      --shadow: 0 8px 30px rgba(0,0,0,.35);
      --ok: var(--success);
      --err: var(--danger);
    }
    @media (prefers-color-scheme: light) {
      :root {
        --bg: #f6f7fb;
        --panel: #ffffff;
        --elev: #ffffff;
        --text: #1a1a1a;
        --muted: #636b74;
        --primary: #2563eb;
        --success: #16a34a;
        --warn: #d97706;
        --danger: #dc2626;
        --accent: #6d28d9;
        --border: #e5e7eb;
        --chip: #f1f5f9;
        --shadow: 0 4px 18px rgba(0,0,0,.08);
      }
    }
    html[data-theme="dark"] {
      --bg: #0b0c10;
      --panel: #121318;
      --elev: #171922;
      --text: #e6e6e6;
      --muted: #a7a7a7;
      --primary: #4da3ff;
      --success: #2ecc71;
      --warn: #f1c40f;
      --danger: #ff5c5c;
      --accent: #8a7dff;
      --border: #262a35;
      --chip: #1d2030;
      --shadow: 0 10px 40px rgba(0,0,0,.45);
    }
    html[data-theme="light"] {
      --bg: #f6f7fb;
      --panel: #ffffff;
      --elev: #ffffff;
      --text: #1a1a1a;
      --muted: #636b74;
      --primary: #2563eb;
      --success: #16a34a;
      --warn: #d97706;
      --danger: #dc2626;
      --accent: #6d28d9;
      --border: #e5e7eb;
      --chip: #eef2f7;
      --shadow: 0 4px 18px rgba(0,0,0,.08);
    }

    * { box-sizing: border-box }
    html, body { height: 100% }
    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font: 14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
    }
    .container {
      max-width: 1050px;
      margin: 0 auto;
      padding: 16px;
    }
    header.appbar {
      position: sticky; top: 0; z-index: 10;
      background: linear-gradient(0deg, transparent, var(--bg) 40%);
      backdrop-filter: blur(6px);
    }
    .appbar-inner {
      display: flex; align-items: center; gap: 12px;
      padding: 12px 6px;
    }
    .logo {
      display: flex; align-items: center; gap: 10px; font-weight: 700; letter-spacing: .3px;
    }
    .logo .mark {
      width: 28px; height: 28px; border-radius: 8px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      box-shadow: var(--shadow);
    }
    .spacer { flex: 1 }
    .chip {
      display: inline-flex; align-items: center; gap: 8px;
      background: var(--chip); border: 1px solid var(--border);
      padding: 6px 10px; border-radius: 999px; cursor: default; user-select: none;
    }
    .btn, button {
      appearance: none; border: 1px solid var(--border);
      background: var(--elev); color: var(--text);
      border-radius: 10px; padding: 10px 14px; cursor: pointer;
      box-shadow: var(--shadow); transition: .15s transform, .15s opacity, .15s border-color;
    }
    .btn:hover { transform: translateY(-1px) }
    .btn:disabled { opacity: .6; cursor: not-allowed; transform: none }
    .btn.primary { border-color: transparent; background: linear-gradient(135deg, var(--primary), var(--accent)); color: #fff }
    .btn.warn { border-color: var(--warn); }
    .btn.danger { border-color: var(--danger); }
    .seg {
      background: var(--chip); border: 1px solid var(--border); border-radius: 12px; padding: 3px;
      display: inline-flex; gap: 3px;
    }
    .seg button { background: transparent; border: none; padding: 8px 10px; border-radius: 9px; }
    .seg button.active { background: var(--elev); border: 1px solid var(--border) }
    .wifi-dot {
      width: 10px; height:10px; border-radius: 50%; background: var(--err); box-shadow: 0 0 0 3px rgba(0,0,0,.08);
    }
    .wifi-dot.ok { background: var(--ok) }
    .toolbar { display:flex; align-items:center; gap:8px; flex-wrap: wrap }
    .card-grid {
      display: grid; gap: 14px; grid-template-columns: repeat(4, 1fr);
    }
    @media (max-width: 900px){ .card-grid{ grid-template-columns: repeat(2, 1fr) } }
    @media (max-width: 520px){ .card-grid{ grid-template-columns: 1fr } }
    .card {
      background: var(--panel); border: 1px solid var(--border); border-radius: 16px; padding: 16px; box-shadow: var(--shadow);
    }
    .metric { display:flex; flex-direction: column; gap:6px }
    .metric .label { color: var(--muted); font-size: 12px; text-transform: uppercase; letter-spacing:.6px }
    .metric .value { font-size: 32px; font-weight: 700 }
    .row { display:flex; align-items:center; gap:10px; flex-wrap: wrap }
    .grid-2 { display:flex; gap:12px; flex-wrap: wrap; justify-content: center;}
    .grid-1 { display:grid; gap:12px; grid-template-columns: repeat(2, 1fr) }
    .grid-3 { display:grid; gap:12px; grid-template-columns: repeat(3, 1fr) }
    .grid-4 { display:grid; gap:12px; grid-template-columns: repeat(4, 1fr) }
    .field { display:flex; flex-direction: column; gap:6px }
    .field label { font-size: 12px; color: var(--muted) }
    .field input, .field select {
      padding:10px 12px; border-radius: 10px; border: 1px solid var(--border); background: var(--elev); color: var(--text);
    }
    .switch {
      display:inline-flex; align-items:center; gap:8px; cursor:pointer; user-select:none;
    }
    .switch input { display:none }
    .switch .track {
      width: 44px; height: 24px; border-radius: 999px; position: relative; background: var(--chip); border:1px solid var(--border);
      transition: .2s background;
    }
    .switch .knob {
      width: 18px; height: 18px; border-radius: 50%; background: #fff; position:absolute; top:2px; left:2px; transition:.2s left, .2s background;
      box-shadow: 0 2px 10px rgba(0,0,0,.2);
    }
    .switch input:checked + .track .knob { left: 24px }
    .section-title { font-weight: 700; margin: 8px 0 6px }
    .subtle { color: var(--muted); font-size: 12px }
    .badge {
      display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border-radius:999px; background: var(--chip); border:1px solid var(--border); font-size:12px;
    }
    .kpi { display:flex; gap:10px; align-items:center; flex-wrap: wrap }

    /* Modal/Drawer */
    .modal {
      position: fixed; inset: 0; display:none; z-index: 20;
      background: rgba(0,0,0,.45); backdrop-filter: blur(4px);
    }
    .modal.open { display:block }
    .drawer {
            margin: 8%;
      
      background: var(--bg); border-left: 1px solid var(--border); box-shadow: var(--shadow);
      display: grid; grid-template-rows: auto 1fr;
    }
    .tabs { display:flex; gap:8px; padding:12px; border-bottom:1px solid var(--border) }
    .tabs button { background: var(--panel); border:1px solid var(--border) }
    .tabs button.active { outline: 2px solid var(--primary); }
    .drawer-body { padding: 16px; overflow: auto }
    .tab-panel { display:none; }
    .tab-panel.active { display:block }

    .controls {
      display:flex; align-items:center; gap:8px; flex-wrap: wrap
    }
    input[type="range"]{ width: 100% }

    .toolbar .danger { color: var(--danger) }
    .toast-wrap { position: fixed; right: 12px; bottom: 12px; display:flex; flex-direction: column; gap:10px; z-index: 50 }
    .toast {
      background: var(--panel); border:1px solid var(--border); border-left:4px solid var(--primary);
      padding: 10px 12px; border-radius: 10px; box-shadow: var(--shadow); min-width: 220px;
      display:flex; align-items: center; gap: 10px;
    }
    .toast.ok  { border-left-color: var(--success) }
    .toast.err { border-left-color: var(--danger) }
    .skeleton { background: linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent); background-size: 300% 300%; animation: shimmer 1.2s infinite }
    @keyframes shimmer { 0% {background-position: 0% 50%} 100% {background-position: 100% 50%} }

    .hint { font-size: 12px; color: var(--muted) }
    .danger-zone { border:1px dashed var(--danger); padding:12px; border-radius:12px; }
    .ok { color: var(--success) } .err { color: var(--danger) } .warn { color: var(--warn) }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace }
    .divider { height:1px; background: var(--border); margin: 8px 0 14px }
