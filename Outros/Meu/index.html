<!DOCTYPE html>
<html lang="pt-BR" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="theme-color" content="#121212" />
    <title>Exaustor Monitor (Simula√ß√£o Local)</title>

  </head>

  <body>
    <header class="header">
      <div class="title"><span aria-hidden="true">üåÄ</span><span>Exaustor Monitor ‚Ä¢ <small class="muted">Simula√ß√£o Local</small></span></div>
      <div class="actions">
        <div id="connDot" class="conn-dot is-ok" title="Status: simula√ß√£o local"></div>
        <button class="btn btn-icon" id="btnTheme" aria-label="Alternar tema">
          <span class="theme-icon" id="iconSun" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M6.76 4.84l-1.8-1.79L3.17 4.84l1.79 1.79 1.8-1.79zm10.48 0l1.79-1.79 1.79 1.79-1.79 1.79-1.79-1.79zM12 2h0a1 1 0 011 1v2a1 1 0 11-2 0V3a1 1 0 011-1zm0 17a5 5 0 100-10 5 5 0 000 10zm8 2a1 1 0 100-2h-2a1 1 0 100 2h2zM4 21a1 1 0 100-2H2a1 1 0 100 2h2zm15.24-3.84l1.79 1.79 1.79-1.79-1.79-1.79-1.79 1.79zM4.84 6.63L3.05 4.84 1.26 6.63l1.79 1.79 1.79-1.79zM12 19a1 1 0 011 1v2a1 1 0 11-2 0v-2a1 1 0 011-1z"/></svg>
          </span>
          <span class="theme-icon hide" id="iconMoon" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z"/></svg>
          </span>
          <span id="themeLabel">Tema</span>
        </button>
        <button class="btn" id="btnConfig" aria-controls="config" aria-expanded="false">‚öôÔ∏è Config</button>
      </div>
    </header>

    <main>
      <section class="cards" aria-label="Status e alertas">
        <article class="card">
          <h2>Status LED</h2>
          <div class="status-row">
            <div id="led" aria-live="polite">--</div>
            <button class="btn" id="btnToggleLED">Alternar LED</button>
          </div>
          <p class="muted" id="networkInfo"></p>
        </article>

        <article class="card">
          <h2>Alertas</h2>
          <p id="tempAlert" class="alert">--</p>
          <p id="fanAlert" class="alert">--</p>
        </article>
      </section>

      <section class="chart-grid" aria-label="Gr√°ficos">
        <div class="chart-box"><canvas id="tempChart" height="180"></canvas></div>
        <div class="chart-box"><canvas id="humChart"  height="180"></canvas></div>
        <div class="chart-box"><canvas id="fanChart"  height="180"></canvas></div>
      </section>
    </main>

    <!-- Painel de Configura√ß√£o -->
    <aside id="config" class="config-panel" role="dialog" aria-modal="true" aria-labelledby="configTitle" hidden>
      <div class="config-content" role="document">
        <div class="config-header">
          <h2 id="configTitle" style="margin:0;">Configura√ß√µes</h2>
          <button class="btn btn--ghost" id="closeConfig" aria-label="Fechar configura√ß√µes">‚úñ</button>
        </div>

        <nav class="tabs" role="tablist" aria-label="Abas de configura√ß√£o">
          <button class="tab" role="tab" aria-selected="true"  aria-controls="tab-wifi"          id="tabbtn-wifi"          data-tab="wifi">Wi‚ÄëFi</button>
          <button class="tab" role="tab" aria-selected="false" aria-controls="tab-notificacoes" id="tabbtn-notificacoes" data-tab="notificacoes">Notifica√ß√µes</button>
          <button class="tab" role="tab" aria-selected="false" aria-controls="tab-visual"       id="tabbtn-visual"       data-tab="visual">Exibi√ß√£o</button>
          <button class="tab" role="tab" aria-selected="false" aria-controls="tab-fan"          id="tabbtn-fan"          data-tab="fan">Ventila√ß√£o</button>
        </nav>

        <section id="tab-wifi" class="tab-content active" role="tabpanel" aria-labelledby="tabbtn-wifi">
          <fieldset>
            <legend>Configura√ß√£o AP</legend>
            <div class="row">
              <label for="ap_ssid">SSID do AP</label>
              <input id="ap_ssid" type="text" placeholder="EXAUSTOR_AP" maxlength="32" />
              <label for="ap_pass">Senha do AP</label>
              <input id="ap_pass" type="password" placeholder="8‚Äì63 caracteres" minlength="8" maxlength="63" />
            </div>
            <div class="form-actions">
              <button class="btn" id="saveAP">Salvar AP</button>
            </div>
          </fieldset>

          <fieldset>
            <legend>Configura√ß√£o Cliente</legend>
            <div class="row">
              <label for="sta_ssid">SSID Wi‚ÄëFi</label>
              <input id="sta_ssid" type="text" placeholder="Nome da rede" maxlength="32" />
              <label for="sta_pass">Senha Wi‚ÄëFi</label>
              <input id="sta_pass" type="password" placeholder="8‚Äì63 caracteres" minlength="8" maxlength="63" />
              <label for="sta_site">Site (opcional)</label>
              <input id="sta_site" type="text" placeholder="meusite.casa" inputmode="url" />
            </div>
            <div class="form-actions">
              <button class="btn" id="saveSTA">Salvar STA</button>
            </div>
          </fieldset>
        </section>

        <section id="tab-notificacoes" class="tab-content" role="tabpanel" aria-labelledby="tabbtn-notificacoes">
          <fieldset>
            <legend>Temperatura</legend>
            <label><input type="checkbox" id="tempNotif" /> Ativar notifica√ß√£o</label>
            <label for="tempLimite">Temperatura limite (¬∞C)</label>
            <input id="tempLimite" type="number" step="0.5" min="-40" max="125" placeholder="Ex: 60" />
            <label><input type="checkbox" id="tempBip" /> Bip</label>
            <label><input type="checkbox" id="tempLed" /> LED</label>
          </fieldset>

          <fieldset>
            <legend>Exaustor</legend>
            <label><input type="checkbox" id="fanNotif" /> Notificar exaustor parado</label>
            <label><input type="checkbox" id="fanBip" /> Bip</label>
            <label><input type="checkbox" id="fanLed" /> LED</label>
          </fieldset>

          <div class="dialog-actions">
            <button class="btn" id="saveNotif">Salvar Notifica√ß√µes</button>
          </div>
        </section>

        <section id="tab-visual" class="tab-content" role="tabpanel" aria-labelledby="tabbtn-visual">
          <fieldset>
            <legend>Tema</legend>
            <div class="row-3">
              <label><input type="radio" name="theme" value="auto"  id="theme_auto"  /> Sistema</label>
              <label><input type="radio" name="theme" value="light" id="theme_light" /> Claro</label>
              <label><input type="radio" name="theme" value="dark"  id="theme_dark"  /> Escuro</label>
            </div>
          </fieldset>

          <fieldset>
            <legend>Gr√°ficos</legend>
            <div class="row-2">
              <label><input type="checkbox" id="ch_points" /> Mostrar pontos</label>
              <label><input type="checkbox" id="ch_fill" /> Preencher √°rea</label>
              <label><input type="checkbox" id="ch_gridx" checked /> Grade eixo X</label>
              <label><input type="checkbox" id="ch_gridy" checked /> Grade eixo Y</label>
              <label><input type="checkbox" id="ch_legend" checked /> Mostrar legenda</label>
              <label><input type="checkbox" id="ch_decimation" checked /> Decimation</label>
            </div>
            <div class="row-2" style="margin-top:.6rem;">
              <div>
                <label for="rng_tension">Suaviza√ß√£o (0‚Äì0.4)</label>
                <input type="range" id="rng_tension" min="0" max="0.4" step="0.05" />
              </div>
              <div>
                <label for="num_maxPoints">Limite de pontos (10‚Äì120)</label>
                <input type="number" id="num_maxPoints" min="10" max="120" step="5" />
              </div>
            </div>
            <div class="form-actions">
              <button class="btn btn--ghost" id="resetVisual">Restaurar padr√£o</button>
              <button class="btn" id="applyVisual">Aplicar</button>
            </div>
          </fieldset>
        </section>

        <section id="tab-fan" class="tab-content" role="tabpanel" aria-labelledby="tabbtn-fan">
          <fieldset>
            <legend>Controle do Cooler</legend>
            <label for="fanDuty">Duty do PWM (%)</label>
            <input id="fanDuty" type="range" min="0" max="100" step="1" />
            <div class="muted">Valor: <b><span id="fanDutyVal">--</span>%</b></div>
          </fieldset>

          <fieldset>
            <legend>Par√¢metros de RPM</legend>
            <div class="row-2">
              <div>
                <label for="fanPulses">Pulsos por volta (1‚Äì12)</label>
                <input id="fanPulses" type="number" min="1" max="12" step="1" />
              </div>
              <div>
                <label for="rpmAlertMin">RPM m√≠nimo p/ alerta</label>
                <input id="rpmAlertMin" type="number" min="0" max="20000" step="10" />
              </div>
            </div>
            <div class="form-actions">
              <button class="btn" id="saveFanCfg">Salvar par√¢metros</button>
            </div>
          </fieldset>
        </section>

        <div class="dialog-actions">
          <button class="btn btn--ghost" id="closeConfig2">Fechar</button>
        </div>
      </div>
    </aside>
    <!-- Toast container -->
    <div class="toasts" id="toasts" aria-live="polite" aria-atomic="true"></div>


  </body>
</html>
